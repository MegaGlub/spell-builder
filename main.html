<!DOCTYPE html>
<head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class = "mainMenuScreen" id = "mainMenuScreen">
    <span class = "mainMenuButtons">
      <button class = "mainMenuSpellsButton" onclick = "mainMenuSpellsButtonPress()" id = "mainMenuSpellsButton">
        Spell Workbench</button>
      <button class = "mainMenuMartialsButton" onclick = "mainMenuMartialsButtonPress()" id = "mainMenuMartialsButton">
        Martial Arts</button>
    </span>
  </div>
  <div class = "toolTipButton">
    <img src = "images/enhancements/sparkler.png">
    <div class="toolTip">Test 1</div>
  </div>

    <div class = "toolTipButton">
      <div class="toolTip">Test 2</div>
    </div>
    
    <div class = "toolTipButton">
      <div class="toolTip">Test 3</div>
    </div>
    
    <div class = "toolTipButton">
      <div class="toolTip">Test 4</div>
    </div>
    
    <div class = "toolTipButton">
      <div class="toolTip">Test 5</div>
    </div>
    
    <div class = "toolTipButton">
      <div class="toolTip">Test 6</div>
    </div>
  
  <div class = "bottomToolBar">
    <button class = "bottomToolBarButton" onclick = "unhideMainMenu()">
      Main Menu
    </button>
  </div>
</body>
<script>
  const mainMenuSpellsButton = document.getElementById("mainMenuSpellsButton");
  const mainMenuMartialsButton = document.getElementById("mainMenuMartialsButton");
  const mainMenuScreen = document.getElementById("mainMenuScreen");
  const toolTipButtons = document.getElementsByClassName("toolTipButton");

  function mainMenuSpellsButtonPress(){
    hideMainMenu();
  }

  function mainMenuMartialsButtonPress(){
    hideMainMenu();
  }

  function hideMainMenu(){
    mainMenuSpellsButton.disabled = true;
    mainMenuMartialsButton.disabled = true;
    mainMenuScreen.style.display = "none";
  }

  function unhideMainMenu(){
    mainMenuScreen.style.display = "flex";
    mainMenuSpellsButton.disabled = false;
    mainMenuMartialsButton.disabled = false;
  }
  
  console.log(toolTipButtons);
  for (index = 0; index < toolTipButtons.length; index++){
    assignToolTips(toolTipButtons[index]);
  }

  function assignToolTips(toolTipButton){
    toolTipButton.addEventListener('mousemove', function(event){
      updateToolTipPosition(event, toolTipButton)}
      );
  }
  
  function updateToolTipPosition(mouseEvent, toolTipButton){
    const toolTip = toolTipButton.getElementsByClassName("toolTip")[0];
    const clientX = mouseEvent.clientX;
    const clientY = mouseEvent.clientY;
    const windowWidth = window.innerWidth;
    const windowHeight = window.innerHeight;
    const toolTipWidth = toolTip.offsetWidth;
    const toolTipHeight = toolTip.offsetHeight;

    if (clientX + toolTipWidth + 18 > windowWidth){
      toolTip.style.left = (windowWidth - toolTipWidth) + "px";
      console.log("oopsie");
    }else{
      toolTip.style.left = clientX + 18 + "px";
      console.log("daisy");
    }

    if (clientY + toolTipHeight + 12 > windowHeight){
      toolTip.style.top = (windowHeight - toolTipHeight) + "px";
    }else{
      toolTip.style.top = clientY + 12 + "px";
    }
  }
</script>